<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html>
    <head>
        <title>MasterMind</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <script>
        const MAX_INTENTOS = 10;
        const LARGO_CODIGO = 4; 
        const PRIMERA_LETRA = 'A'; 
        const ULTIMA_LETRA = 'H'; 
        var adivinador, pensador= new Array(LARGO_CODIGO);
        var indice;
        var bueno,regular,contador;
        var adivinaArreglo= new Array(LARGO_CODIGO);
        var piensaArreglo= new Array(LARGO_CODIGO);
        var correcto=false;
        var adivinadorstring= "";
        var letrausuario = new Array(LARGO_CODIGO);


            for (let i = 0; i <= LARGO_CODIGO - 1; i++) {
                indice = Math.floor(Math.random() * (ULTIMA_LETRA.charCodeAt() - PRIMERA_LETRA.charCodeAt() + 1)) + PRIMERA_LETRA.charCodeAt();
                j = 0;
                while (j < i) {
                    if (pensador[j] == String.fromCharCode(indice)) {
                        j = 0;
                        indice = Math.floor(Math.random() * (ULTIMA_LETRA.charCodeAt() - PRIMERA_LETRA.charCodeAt() + 1)) + PRIMERA_LETRA.charCodeAt();
                    } else {
                        j = j + 1;
                    }
                }
                pensador[i] = String.fromCharCode(indice);
            }
            /* for (let i = 0; i <= LARGO_CODIGO - 1; i++) {
             document.write(pensador[i]);
             
             }*///Para comprobar el arreglo pensador

            document.write("MasterMind V1.0" + "<br>" + "Disponemos de " + MAX_INTENTOS + "intentos para adivinar el código." + "<br>" + "<br>");
            contador = 1;

            while ((contador <= MAX_INTENTOS) && (correcto == false)) {
                letrausuario = window.prompt("MasterMind V1.0" + "\n" + "Disponemos de " + MAX_INTENTOS + " intentos para adivinar el código." +
                        "\n" + adivinadorstring + "Codigo " + contador + " de " + MAX_INTENTOS + ">>");

                adivinador = Array.from(letrausuario);

                for (let j = 0; j <= LARGO_CODIGO - 1; j++) {
                    piensaArreglo[j] = false;
                }

                for (let j = 0; j <= LARGO_CODIGO - 1; j++) {
                    adivinaArreglo[j] = false;
                }

                bueno = 0;
                for (let j = 0; j <= LARGO_CODIGO - 1; j++) {
                    if (pensador[j] == adivinador[j]) {
                        piensaArreglo[j] = true;
                        adivinaArreglo[j] = true;
                        bueno = bueno + 1;
                    }
                }

                regular = 0;
                for (let j = 0; j <= LARGO_CODIGO - 1; j++) {
                    if ((adivinador[0] == pensador[j]) && (adivinaArreglo[j] == false) && (piensaArreglo[j] == false)) {
                        regular = regular + 1;
                    } else if ((adivinador[1] == pensador[j]) && (adivinaArreglo[j] == false) && (piensaArreglo[j] == false)) {
                        regular = regular + 1;
                    } else if ((adivinador[2] == pensador[j]) && (adivinaArreglo[j] == false) && (piensaArreglo[j] == false)) {
                        regular = regular + 1;
                    } else if ((adivinador[3] == pensador[j]) && (adivinaArreglo[j] == false) && (piensaArreglo[j] == false)) {
                        regular = regular + 1;
                    }
                }

                adivinadorstring = adivinadorstring + adivinador + " --> " + "B= " + bueno + " R= " + regular + "\n";
                document.write(adivinador + " --> " + "B= " + bueno + "R= " + regular + "<br>");


                if (bueno == 4) {
                    correcto = true;
                    window.alert("¡¡¡EXCELENTE!!!Ganaste");
                    document.write("¡¡¡EXCELENTE!!!Ganaste");
                }
                if ((contador == MAX_INTENTOS) && (bueno != 4)) {
                    window.alert("¡¡¡PERDISTE!!! El codigo era " + pensador);
                    document.write("¡¡¡PERDISTE!!! El codigo era " + pensador);
                }
                contador++;
            }
        
            
        </script>
    </body>
</html>
